<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Intro to Applied Informatics — The Informatics Initiative</title>
  <link rel="stylesheet" href="/Tii/styles.css">
  <style>body{padding:30px} .course-hero{max-width:900px;margin:0 auto;background:#fff;padding:24px;border-radius:8px;box-shadow:0 6px 20px rgba(0,0,0,0.06)} .course-meta{color:#666;margin-bottom:12px} .lesson-list{margin-top:18px;display:flex;flex-direction:column;gap:12px}</style>
</head>
<body>
  <a href="/Tii/index.html">← Back to Home</a>
  <main>
    <div class="course-hero">
      <h1>Intro to Applied Informatics</h1>
      <div class="course-meta">Supplementary Course • Added by system-test on 11/17/2025, 1:00:00 AM</div>
      <div class="course-body">A short test course to verify the other-courses listing and styles. Covers data basics and tools.</div>
      <div class="lesson-list" id="lesson-list">
        <p style="color:#666">Loading lessons…</p>
      </div>
      <div style="margin-top:18px;"><a class="explore-btn-secondary" href="/Tii/other-courses.html">Back to courses</a></div>
    </div>
  </main>
  <script>
    (async function(){
      const courseId = 'c_test_1';
      const listEl = document.getElementById('lesson-list');
      try {
        const resp = await fetch('/api/courses/' + courseId + '/lessons');
        if (!resp.ok) { listEl.innerHTML = '<p style="color:#c0392b">Failed to load lessons.</p>'; return; }
        const data = await resp.json();
        const lessons = data.lessons || [];
        if (!lessons.length) { listEl.innerHTML = '<p style="color:#666">No lessons yet. Admins can upload lessons from the admin portal.</p>'; return; }
        listEl.innerHTML = '';
        lessons.forEach(l => {
          const div = document.createElement('div');
          div.className = 'lesson-card';
          div.style.background = '#fbfffc';
          div.style.padding = '12px';
          div.style.border = '1px solid #e6f4ef';
          div.style.borderRadius = '6px';
          const resourceHtml = l.resource_url ? '<div style="margin-top:8px;"><a href="' + l.resource_url + '" target="_blank" class="explore-btn-secondary">Open Resource</a></div>' : '';
          div.innerHTML = '<h4 style="margin:0 0 6px;">' + (l.title||'Untitled') + '</h4>' + '<div style="color:#555">' + (l.content||'').replace(/
/g,'<br/>') + '</div>' + resourceHtml;
          listEl.appendChild(div);
        });
      } catch (e) { listEl.innerHTML = '<p style="color:#c0392b">Network error loading lessons.</p>'; }
    })();
  </script>
</body>
</html>