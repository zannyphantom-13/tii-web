<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Student Portal - The Informatics Initiative</title>
    <link rel="stylesheet" href="styles.css"> 
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <script>
        // IMMEDIATE AUTH CHECK (Client-side Page Protection)
        if (!localStorage.getItem('authToken')) {
            alert('You must be logged in to view this page.');
            window.location.href = 'login.html';
        }
    </script>
    <script src='user-loader.js'></script>
</head>
<body>
    <header>
       <a href="index.html">
        <div class="logo-container">
            <svg class="logo-icon" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
                <polygon points="50,5 90,30 90,70 50,95 10,70 10,30" fill="transparent" stroke="#2a6e62" stroke-width="5"/>
                <circle cx="50" cy="50" r="10" fill="#2a6e62"/>
                <path d="M50 5 L50 95 M10 30 L90 70 M10 70 L90 30" stroke="#2a6e62" stroke-width="2"/>
            </svg>
            <h1>THE INFORMATICS INITIATIVE</h1>
        </div>
        </a>
        <nav class="main-nav">
            <a href="curriculum.html">Curriculum</a>
            <a href="lessons.html">Weekly Lessons</a>
            <a href="portal.html">Student Portal</a>
            <a href="feedback.html">Feedback</a>
        </nav>
        <a id="auth-button" href="login.html" class="login-btn">Login</a>
    </header>

    <main>
        <h2 id="welcome-text" style="text-align: center; color: #2a6e62; margin-bottom: 10px;">ðŸ‘‹ Welcome, Student Name!</h2>
        
        <div class="portal-dashboard">
            
            <div class="portal-sidebar">
                <h3>Quick Stats</h3>
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="value">0%</div>
                        <div class="label">Current Grade Avg</div>
                    </div>
                    <div class="stat-card">
                        <div class="value">0</div>
                        <div class="label">Pending Assignments</div>
                    </div>
                </div>

                <h3>Quick Links</h3>
                <ul class="quick-links">
                    <li><a href="lessons.html">Go to Weekly Lessons</a></li>
                    <li><a href="curriculum.html">View Course Catalog</a></li>
                    <li><a href="#">Contact Your Tutor</a></li>
                    <li><a href="profile.html">Profile</a></li>
                </ul>
            </div>

            <div class="portal-main">
                <h3>Recent Activity & Grades</h3>

                
                <p style="text-align: center; margin-top: 25px;"><a href="#" style="color: #2a6e62;">View Full Gradebook</a></p>
            </div>
            
        </div>
    </main>

    <footer>
        <div class="copyright-bar">
            <div class="social-links">
                <a href="https://www.linkedin.com/company/informatics" target="_blank"><i class="fab fa-linkedin-in"></i></a>
                <a href="https://www.twitter.com/informatics" target="_blank"><i class="fab fa-twitter"></i></a>
                <a href="https://www.instagram.com/informatics" target="_blank"><i class="fab fa-instagram"></i></a>
                <a href="https://www.youtube.com/informatics" target="_blank"><i class="fab fa-youtube"></i></a>
                <a href="https://www.facebook.com/informatics" target="_blank"><i class="fab fa-facebook-f"></i></a>
                <a href="https://www.tiktok.com/@informatics" target="_blank"><i class="fab fa-tiktok"></i></a>
            </div>
            <p>&copy; 2024 The Informatics Initiative. All rights reserved.</p>
        </div>
    </footer>
    <script type="module">
    import { handleProfileFetch, handleAuthButton } from './auth.js';

    handleAuthButton();
    handleProfileFetch(); // Retrieves and sets the user's name
    </script>
</body>
</html>