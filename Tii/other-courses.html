<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Other Courses - The Informatics Initiative</title>
    <link rel="stylesheet" href="styles.css"> 
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <script src='user-loader.js'></script>
</head>
<body>
    <header>
        <a href="/Tii/index.html">
        <div class="logo-container">
            <svg class="logo-icon" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
                <polygon points="50,5 90,30 90,70 50,95 10,70 10,30" fill="transparent" stroke="#2a6e62" stroke-width="5"/>
                <circle cx="50" cy="50" r="10" fill="#2a6e62"/>
                <path d="M50 5 L50 95 M10 30 L90 70 M10 70 L90 30" stroke="#2a6e62" stroke-width="2"/>
            </svg>
            <h1>THE INFORMATICS INITIATIVE</h1>
        </div>
        </a>
        <nav class="main-nav">
            <a href="/Tii/curriculum.html">Curriculum</a>
            <a href="/Tii/lessons.html">Weekly Lessons</a>
            <a href="/Tii/portal.html">Student Portal</a>
            <a href="/Tii/feedback.html">Feedback</a>
        </nav>
        <a href="/Tii/login.html" class="login-btn">Login</a>
    </header>

    <main>
        <h2 style="text-align: center; color: #333; margin-bottom: 10px;">ðŸ“š Supplementary Courses</h2>
        <p style="text-align: center; color: #555; max-width: 800px; margin: 0 auto 40px;">
            Dive into these extra courses and specialized topics, uploaded by our administrators, to deepen your understanding in niche areas of informatics.
        </p>

    </main>
    <script>
    // Load courses dynamically from API
    (async function(){
        const API_URL = window.location.origin || 'http://localhost:3000';
        try {
            const resp = await fetch(`${API_URL}/api/courses`);
            if (!resp.ok) return;
            const data = await resp.json();
            const main = document.querySelector('main');
            if (!data.courses || !data.courses.length) {
                const p = document.createElement('p');
                p.style.textAlign = 'center';
                p.style.color = '#666';
                p.textContent = 'No supplementary courses available right now.';
                main.appendChild(p);
                return;
            }
            const grid = document.createElement('div');
                grid.className = 'other-courses-grid';

            data.courses
                .filter(c => c.placement === 'other' && c.title && c.title.trim() !== '' && c.title.trim().toLowerCase() !== 'the informatics initiative')
                .forEach(c => {
                    const isUploaded = (c.id && String(c.id).startsWith('c_')) || (c.created_by && String(c.created_by).toLowerCase() !== 'static');
                    const card = document.createElement('div');
                    card.className = 'other-course-card' + (isUploaded ? ' uploaded' : '');
                    card.innerHTML = `
                        ${isUploaded ? '<div class="course-badge">Added</div>' : ''}
                        ${c.image ? `<img src="${c.image}" alt="${c.title}"/>` : ''}
                        <h4 title="${c.title}">${c.title}</h4>
                        <p title="${c.description}">${c.description}</p>
                        ${c.url ? `<a href="${c.url}" class="explore-btn-secondary">View Course</a>` : ''}
                    `;
                    grid.appendChild(card);
                });
            main.appendChild(grid);
        } catch (e) { console.error('Load courses failed', e); }
    })();
    </script>

    <footer>
        <div class="copyright-bar">
            <div class="social-links">
                <a href="https://www.linkedin.com/company/informatics" target="_blank"><i class="fab fa-linkedin-in"></i></a>
                <a href="https://www.twitter.com/informatics" target="_blank"><i class="fab fa-twitter"></i></a>
                <a href="https://www.instagram.com/informatics" target="_blank"><i class="fab fa-instagram"></i></a>
                <a href="https://www.youtube.com/company/informatics" target="_blank"><i class="fab fa-youtube"></i></a>
                <a href="https://www.facebook.com/informatics" target="_blank"><i class="fab fa-facebook-f"></i></a>
                <a href="https://www.tiktok.com/@informatics" target="_blank"><i class="fab fa-tiktok"></i></a>
            </div>
            <p>&copy; 2024 The Informatics Initiative. All rights reserved.</p>
        </div>
    </footer>
    <script type="module">
    import { handleAuthButton, updatePortalLink } from './auth.js'; 
    updatePortalLink();
    handleAuthButton();
</script>
</body>
</html>